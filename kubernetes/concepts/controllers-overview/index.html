<!doctype html><html lang=en class="js csstransforms3d">
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Hugo 0.90.1">
<meta name=description content="Do Learn">
<meta name=author content="Myeongjin Kim">
<link rel="shortcut icon" href=/images/favicon.png type=image/x-icon>
<title>Controllers Overview :: Ibiza</title>
<link href=/css/nucleus.css?1639322083 rel=stylesheet>
<link href=/css/fontawesome-all.min.css?1639322083 rel=stylesheet>
<link href=/css/hybrid.css?1639322083 rel=stylesheet>
<link href=/css/featherlight.min.css?1639322083 rel=stylesheet>
<link href=/css/perfect-scrollbar.min.css?1639322083 rel=stylesheet>
<link href=/css/auto-complete.css?1639322083 rel=stylesheet>
<link href=/css/atom-one-dark-reasonable.css?1639322083 rel=stylesheet>
<link href=/css/theme.css?1639322083 rel=stylesheet>
<link href=/css/hugo-theme.css?1639322083 rel=stylesheet>
<link href=/css/theme-mine.css?1639322083 rel=stylesheet>
<script src=/js/jquery-3.3.1.min.js?1639322083></script>
<style>:root #header+#content>#left>#rlblock_left{display:none!important}</style>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-159865175-1','auto'),ga('send','pageview'))</script>
<script data-ad-client=ca-pub-1788337254638181 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
</head>
<body data-url=/kubernetes/concepts/controllers-overview/>
<nav id=sidebar>
<div id=header-wrapper>
<div id=header>
<div>
<img src="https://avatars3.githubusercontent.com/u/6358016?s=460&v=4" style=border-radius:50%;opacity:0 width=50% height=50%>
</div>
<h3 margin=100px><p style=color:#fff>Ibiza</p></h3>
<p style=color:#fff>기록하는 습관</p>
</div>
</div>
<div class=highlightable>
<ul class=topics>
<li data-nav-id=/coredns/ title=CoreDNS class=dd-item>
<a href=/coredns/>
<i class="fas fa-angle-right"></i>&nbsp;CoreDNS
</a>
<ul>
<li data-nav-id=/coredns/configure-dns-server/ title="CoreDNS를 통한 Dns Server 구축하기 with docker" class=dd-item>
<a href=/coredns/configure-dns-server/>
<i class="fas fa-minus"></i>&nbsp;CoreDNS를 통한 Dns Server 구축하기 with docker
</a>
</li>
</ul>
</li>
<li data-nav-id=/harbor/ title=Harbor class=dd-item>
<a href=/harbor/>
<i class="fas fa-angle-right"></i>&nbsp;Harbor
</a>
<ul>
<li data-nav-id=/harbor/what-is-harbor/ title="Private Docker Registry 오픈소스: Harbor란" class=dd-item>
<a href=/harbor/what-is-harbor/>
<i class="fas fa-minus"></i>&nbsp;Private Docker Registry 오픈소스: Harbor란
</a>
</li>
<li data-nav-id=/harbor/install/ title="Harbor 설치" class=dd-item>
<a href=/harbor/install/>
<i class="fas fa-minus"></i>&nbsp;Harbor 설치
</a>
</li>
</ul>
</li>
<li data-nav-id=/git/ title=Git class=dd-item>
<a href=/git/>
<i class="fas fa-angle-right"></i>&nbsp;Git
</a>
<ul>
<li data-nav-id=/git/git-secret/ title="git-secret을 통한 github 파일 암호화" class=dd-item>
<a href=/git/git-secret/>
<i class="fas fa-minus"></i>&nbsp;git-secret을 통한 github 파일 암호화
</a>
</li>
<li data-nav-id=/git/gitignore/ title="Gitignore 설정" class=dd-item>
<a href=/git/gitignore/>
<i class="fas fa-minus"></i>&nbsp;Gitignore 설정
</a>
</li>
</ul>
</li>
<li data-nav-id=/python/ title=Python class=dd-item>
<a href=/python/>
<i class="fas fa-angle-right"></i>&nbsp;Python
</a>
<ul>
<li data-nav-id=/python/python-beautiful-cli/ title="[번역]Python을 통해 이쁜 CLI 만들기" class=dd-item>
<a href=/python/python-beautiful-cli/>
<i class="fas fa-minus"></i>&nbsp;[번역]Python을 통해 이쁜 CLI 만들기
</a>
</li>
</ul>
</li>
<li data-nav-id=/docker/ title=Docker class=dd-item>
<a href=/docker/>
<i class="fas fa-angle-right"></i>&nbsp;Docker
</a>
<ul>
<li data-nav-id=/docker/insecure-registry/ title="http를 사용하는 docker registry를 위한 insecure registry 설정" class=dd-item>
<a href=/docker/insecure-registry/>
<i class="fas fa-minus"></i>&nbsp;http를 사용하는 docker registry를 위한 insecure registry 설정
</a>
</li>
<li data-nav-id=/docker/use-docker-without-sudo/ title="Docker를 sudo없이 실행하기" class=dd-item>
<a href=/docker/use-docker-without-sudo/>
<i class="fas fa-minus"></i>&nbsp;Docker를 sudo없이 실행하기
</a>
</li>
<li data-nav-id=/docker/connect-container-to-container/ title="[docker-compose] container에서 다른 container로 접속하기" class=dd-item>
<a href=/docker/connect-container-to-container/>
<i class="fas fa-minus"></i>&nbsp;[docker-compose] container에서 다른 container로 접속하기
</a>
</li>
</ul>
</li>
<li data-nav-id=/jenkins/ title=Jenkins class=dd-item>
<a href=/jenkins/>
<i class="fas fa-angle-right"></i>&nbsp;Jenkins
</a>
<ul>
<li data-nav-id=/jenkins/install/ title="Jenkins Install" class=dd-item>
<a href=/jenkins/install/>
<i class="fas fa-minus"></i>&nbsp;Install
</a>
</li>
<li data-nav-id=/jenkins/workspace-list/ title="Workspace@2를 변경하기 - Workspace List 설정 변경" class=dd-item>
<a href=/jenkins/workspace-list/>
<i class="fas fa-minus"></i>&nbsp;Workspace@2를 변경하기 - Workspace List 설정 변경
</a>
</li>
</ul>
</li>
<li data-nav-id=/iac/ title=IaC class=dd-item>
<a href=/iac/>
<i class="fas fa-angle-right"></i>&nbsp;IaC
</a>
<ul>
<li data-nav-id=/iac/translate-what-is-infrastructure-as-a-code/ title="[번역] What Is Infrastructure as a Code? How It Works, Best Practices, Tutorials" class=dd-item>
<a href=/iac/translate-what-is-infrastructure-as-a-code/>
<i class="fas fa-minus"></i>&nbsp;[Translate] What Is Infrastructure as a Code
</a>
</li>
</ul>
</li>
<li data-nav-id=/cicd/ title=CICD class=dd-item>
<a href=/cicd/>
<i class="fas fa-angle-right"></i>&nbsp;CICD
</a>
<ul>
<li data-nav-id=/cicd/deploy-strategy/ title="Deploy Strategy" class=dd-item>
<a href=/cicd/deploy-strategy/>
<i class="fas fa-minus"></i>&nbsp;Deploy Strategy
</a>
</li>
</ul>
</li>
<li data-nav-id=/css/ title=CSS class=dd-item>
<a href=/css/>
<i class="fas fa-angle-right"></i>&nbsp;CSS
</a>
<ul>
<li data-nav-id=/css/background-img-darken/ title="background image 어둡게 하기" class=dd-item>
<a href=/css/background-img-darken/>
<i class="fas fa-minus"></i>&nbsp;background image 어둡게 하기
</a>
</li>
<li data-nav-id=/css/greater-than-sign/ title="Greater Than Sign" class=dd-item>
<a href=/css/greater-than-sign/>
<i class="fas fa-minus"></i>&nbsp;Greater Than Sign
</a>
</li>
</ul>
</li>
<li data-nav-id=/prometheus/ title=Prometheus class=dd-item>
<a href=/prometheus/>
<i class="fas fa-angle-right"></i>&nbsp;Prometheus
</a>
<ul>
<li data-nav-id=/prometheus/install/ title="Install Prometheus" class=dd-item>
<a href=/prometheus/install/>
<i class="fas fa-minus"></i>&nbsp;Install
</a>
</li>
<li data-nav-id=/prometheus/federation/ title=Federation class=dd-item>
<a href=/prometheus/federation/>
<i class="fas fa-minus"></i>&nbsp;Federation
</a>
</li>
</ul>
</li>
<li data-nav-id=/kubernetes/ title=Kubernetes class="dd-item
parent">
<a href=/kubernetes/>
<i class="fas fa-angle-right"></i>&nbsp;Kubernetes
</a>
<ul>
<li data-nav-id=/kubernetes/concepts/ title=Concepts class="dd-item
parent">
<a href=/kubernetes/concepts/>
<i class="fas fa-angle-right"></i>&nbsp;Concepts
</a>
<ul>
<li data-nav-id=/kubernetes/concepts/controllers-overview/ title="Controllers Overview" class="dd-item active">
<a href=/kubernetes/concepts/controllers-overview/>
<i class="fas fa-minus"></i>&nbsp;Controllers Overview
</a>
</li>
<li data-nav-id=/kubernetes/concepts/kubernetes-components/ title="Kubernetes Components" class=dd-item>
<a href=/kubernetes/concepts/kubernetes-components/>
<i class="fas fa-minus"></i>&nbsp;Kubernetes Components
</a>
</li>
<li data-nav-id=/kubernetes/concepts/pods/ title=Pods class=dd-item>
<a href=/kubernetes/concepts/pods/>
<i class="fas fa-minus"></i>&nbsp;Pods
</a>
</li>
</ul>
</li>
<li data-nav-id=/kubernetes/kubernetes-service-iptables/ title="Kubernetes Service는 어떻게 iptables 설정이 되는가" class=dd-item>
<a href=/kubernetes/kubernetes-service-iptables/>
<i class="fas fa-minus"></i>&nbsp;Kubernetes Service는 어떻게 iptables 설정이 되는가
</a>
</li>
<li data-nav-id=/kubernetes/kubernetes-cpu-request-limit/ title="Kubernetes에서의 cpu requests, cpu limits는 어떻게 적용될까" class=dd-item>
<a href=/kubernetes/kubernetes-cpu-request-limit/>
<i class="fas fa-minus"></i>&nbsp;Kubernetes에서의 cpu requests, cpu limits는 어떻게 적용될까
</a>
</li>
<li data-nav-id=/kubernetes/cka-epilogue/ title="CKA: Certified Kubernetes Administrator 취득 후기" class=dd-item>
<a href=/kubernetes/cka-epilogue/>
<i class="fas fa-minus"></i>&nbsp;CKA: Certified Kubernetes Administrator 취득 후기
</a>
</li>
<li data-nav-id=/kubernetes/port-targetport-nodeport-in-kubernetes/ title="[번역] 쿠버네티스에서의 Port, TargetPort, NodePort" class=dd-item>
<a href=/kubernetes/port-targetport-nodeport-in-kubernetes/>
<i class="fas fa-minus"></i>&nbsp;[번역] 쿠버네티스에서의 Port, TargetPort, NodePort
</a>
</li>
<li data-nav-id=/kubernetes/stern/ title="Stern을 이용하여 여러 pod의 log를 한번에 확인하기" class=dd-item>
<a href=/kubernetes/stern/>
<i class="fas fa-minus"></i>&nbsp;Stern을 이용하여 여러 pod의 log를 한번에 확인하기
</a>
</li>
</ul>
</li>
<li data-nav-id=/hugo/ title=Hugo class=dd-item>
<a href=/hugo/>
<i class="fas fa-angle-right"></i>&nbsp;Hugo
</a>
<ul>
<li data-nav-id=/hugo/ibiza/ title=Ibiza class=dd-item>
<a href=/hugo/ibiza/>
<i class="fas fa-angle-right"></i>&nbsp;Ibiza
</a>
<ul>
<li data-nav-id=/hugo/ibiza/font-change/ title="Font Change" class=dd-item>
<a href=/hugo/ibiza/font-change/>
<i class="fas fa-minus"></i>&nbsp;Font Change
</a>
</li>
</ul>
</li>
<li data-nav-id=/hugo/google-analytics/ title="Hugo에 Google Analytics 적용하기" class=dd-item>
<a href=/hugo/google-analytics/>
<i class="fas fa-minus"></i>&nbsp;Hugo에 Google Analytics 적용하기
</a>
</li>
<li data-nav-id=/hugo/insert-comment/ title="Hugo에 Comment 추가하기 (Utterance)" class=dd-item>
<a href=/hugo/insert-comment/>
<i class="fas fa-minus"></i>&nbsp;Hugo에 Comment 추가하기 (Utterance)
</a>
</li>
<li data-nav-id=/hugo/hugo-with-html/ title="HUGO로 HTML이 되지 않을 때 가능하게 하는 방법" class=dd-item>
<a href=/hugo/hugo-with-html/>
<i class="fas fa-minus"></i>&nbsp;hugo with html
</a>
</li>
<li data-nav-id=/hugo/hugo-build-git-action/ title="Git Action으로 hugo build 자동화 하기" class=dd-item>
<a href=/hugo/hugo-build-git-action/>
Git Action으로 hugo build 자동화 하기
</a>
</li>
</ul>
</li>
<li data-nav-id=/spinnaker/ title=Spinnaker class=dd-item>
<a href=/spinnaker/>
<i class="fas fa-angle-right"></i>&nbsp;Spinnaker
</a>
<ul>
<li data-nav-id=/spinnaker/installation/ title=Installation class=dd-item>
<a href=/spinnaker/installation/>
<i class="fas fa-angle-right"></i>&nbsp;Installation
</a>
<ul>
<li data-nav-id=/spinnaker/installation/overview/ title=Overview class=dd-item>
<a href=/spinnaker/installation/overview/>
<i class="fas fa-minus"></i>&nbsp;Overview
</a>
</li>
<li data-nav-id=/spinnaker/installation/install-halyard/ title="Install Halyard" class=dd-item>
<a href=/spinnaker/installation/install-halyard/>
<i class="fas fa-minus"></i>&nbsp;Install Halyard
</a>
</li>
<li data-nav-id=/spinnaker/installation/choose-cloud-providers/ title="Choose Cloud Providers" class=dd-item>
<a href=/spinnaker/installation/choose-cloud-providers/>
<i class="fas fa-minus"></i>&nbsp;Choose Cloud Providers
</a>
</li>
<li data-nav-id=/spinnaker/installation/choose-your-environment/ title="Choose Your Environment" class=dd-item>
<a href=/spinnaker/installation/choose-your-environment/>
<i class="fas fa-minus"></i>&nbsp;Choose Your Environment
</a>
</li>
<li data-nav-id=/spinnaker/installation/choose-a-storage-service/ title="Choose a Storage Service" class=dd-item>
<a href=/spinnaker/installation/choose-a-storage-service/>
<i class="fas fa-minus"></i>&nbsp;Choose a Storage Service
</a>
</li>
<li data-nav-id=/spinnaker/installation/deploy-and-connect/ title="Deploy and Connect" class=dd-item>
<a href=/spinnaker/installation/deploy-and-connect/>
<i class="fas fa-minus"></i>&nbsp;Deploy and Connect
</a>
</li>
<li data-nav-id=/spinnaker/installation/install-in-air-gaped-environment/ title="Install in Air Gaped Environment" class=dd-item>
<a href=/spinnaker/installation/install-in-air-gaped-environment/>
<i class="fas fa-minus"></i>&nbsp;Install in Air Gaped Environment
</a>
</li>
</ul>
</li>
<li data-nav-id=/spinnaker/canaryanalysis/ title=CanaryAnalysis class=dd-item>
<a href=/spinnaker/canaryanalysis/>
<i class="fas fa-angle-right"></i>&nbsp;CanaryAnalysis
</a>
<ul>
<li data-nav-id=/spinnaker/canaryanalysis/canary-analysis/ title="Canary Analysis" class=dd-item>
<a href=/spinnaker/canaryanalysis/canary-analysis/>
<i class="fas fa-minus"></i>&nbsp;Canary Analysis
</a>
</li>
</ul>
</li>
<li data-nav-id=/spinnaker/tips/ title=Tips class=dd-item>
<a href=/spinnaker/tips/>
<i class="fas fa-angle-right"></i>&nbsp;Tips
</a>
<ul>
<li data-nav-id=/spinnaker/tips/pipeline-expressions/ title="Pipeline Expressions" class=dd-item>
<a href=/spinnaker/tips/pipeline-expressions/>
<i class="fas fa-minus"></i>&nbsp;Pipeline Expressions
</a>
</li>
</ul>
</li>
</ul>
</li>
<li data-nav-id=/ansible/ title=Ansible class=dd-item>
<a href=/ansible/>
<i class="fas fa-angle-right"></i>&nbsp;Ansible
</a>
<ul>
<li data-nav-id=/ansible/create-vm-with-ansible-libvirt/ title="Create Vm With Ansible Libvirt" class=dd-item>
<a href=/ansible/create-vm-with-ansible-libvirt/>
<i class="fas fa-minus"></i>&nbsp;Create Vm With Ansible Libvirt
</a>
</li>
</ul>
</li>
<li data-nav-id=/ubuntu/ title=Ubuntu class=dd-item>
<a href=/ubuntu/>
<i class="fas fa-angle-right"></i>&nbsp;Ubuntu
</a>
<ul>
<li data-nav-id=/ubuntu/tools/ title=Tools class=dd-item>
<a href=/ubuntu/tools/>
<i class="fas fa-angle-right"></i>&nbsp;Tools
</a>
<ul>
<li data-nav-id=/ubuntu/tools/tmux/ title=Tmux class=dd-item>
<a href=/ubuntu/tools/tmux/>
<i class="fas fa-minus"></i>&nbsp;Tmux
</a>
</li>
</ul>
</li>
<li data-nav-id=/ubuntu/network/ title=Network class=dd-item>
<a href=/ubuntu/network/>
<i class="fas fa-angle-right"></i>&nbsp;Network
</a>
<ul>
<li data-nav-id=/ubuntu/network/netplan/ title="Netplan으로 static IP 할당받기" class=dd-item>
<a href=/ubuntu/network/netplan/>
<i class="fas fa-minus"></i>&nbsp;Netplan으로 static IP 할당받기
</a>
</li>
</ul>
</li>
<li data-nav-id=/ubuntu/split-tgz/ title="Linux에서 압축파일 분할하기" class=dd-item>
<a href=/ubuntu/split-tgz/>
<i class="fas fa-minus"></i>&nbsp;Linux에서 압축파일 분할하기
</a>
</li>
<li data-nav-id=/ubuntu/samba/ title="Samba를 통한 디스크 공유" class=dd-item>
<a href=/ubuntu/samba/>
<i class="fas fa-minus"></i>&nbsp;Samba를 통한 디스크 공유
</a>
</li>
<li data-nav-id=/ubuntu/customize-login-message/ title="Ubuntu의 Login Message 수정하기" class=dd-item>
<a href=/ubuntu/customize-login-message/>
<i class="fas fa-minus"></i>&nbsp;Ubuntu의 Login Message 수정하기
</a>
</li>
<li data-nav-id=/ubuntu/start-tmux-after-reboot/ title="reboot 후에 tmux를 실행시켜 원하는 작업을 하기" class=dd-item>
<a href=/ubuntu/start-tmux-after-reboot/>
<i class="fas fa-minus"></i>&nbsp;reboot 후에 tmux를 실행시켜 원하는 작업을 하기
</a>
</li>
<li data-nav-id=/ubuntu/oh-my-zsh-home-end-key/ title="oh-my-zsh에서 home key와 end key가 안될 때 해결방법" class=dd-item>
<a href=/ubuntu/oh-my-zsh-home-end-key/>
<i class="fas fa-minus"></i>&nbsp;oh-my-zsh에서 home key와 end key가 안될 때 해결방법
</a>
</li>
<li data-nav-id=/ubuntu/base64-encode-decode/ title="Ubuntu에서 Base64로 인코딩, 디코딩하기" class=dd-item>
<a href=/ubuntu/base64-encode-decode/>
<i class="fas fa-minus"></i>&nbsp;Ubuntu에서 Base64로 인코딩, 디코딩하기
</a>
</li>
<li data-nav-id=/ubuntu/file-edit-without-editor/ title="Editor(vi)가 없을 때 파일 수정하기" class=dd-item>
<a href=/ubuntu/file-edit-without-editor/>
<i class="fas fa-minus"></i>&nbsp;Editor(vi)가 없을 때 파일 수정하기
</a>
</li>
<li data-nav-id=/ubuntu/check-listen-port/ title="열려있는 포트 확인하기" class=dd-item>
<a href=/ubuntu/check-listen-port/>
<i class="fas fa-minus"></i>&nbsp;열려있는 포트 확인하기
</a>
</li>
<li data-nav-id=/ubuntu/using-watch-with-pipes/ title="pipe를 사용한 명령어를 watch로 확인하기" class=dd-item>
<a href=/ubuntu/using-watch-with-pipes/>
<i class="fas fa-minus"></i>&nbsp;pipe를 사용한 명령어를 watch로 확인하기
</a>
</li>
<li data-nav-id=/ubuntu/use-alias-in-watch/ title="watch를 사용할 때 alias 이용하기" class=dd-item>
<a href=/ubuntu/use-alias-in-watch/>
<i class="fas fa-minus"></i>&nbsp;watch를 사용할 때 alias 이용하기
</a>
</li>
<li data-nav-id=/ubuntu/ssh-without-password/ title="password 없이 ssh 접속하기" class=dd-item>
<a href=/ubuntu/ssh-without-password/>
<i class="fas fa-minus"></i>&nbsp;password 없이 ssh 접속하기
</a>
</li>
<li data-nav-id=/ubuntu/ssh-tunneling/ title="SSH Tunneling 사용법" class=dd-item>
<a href=/ubuntu/ssh-tunneling/>
<i class="fas fa-minus"></i>&nbsp;SSH Tunneling 사용법
</a>
</li>
<li data-nav-id=/ubuntu/ssh-with-jump/ title="Gateway를 이용하여 SSH 접속하기" class=dd-item>
<a href=/ubuntu/ssh-with-jump/>
<i class="fas fa-minus"></i>&nbsp;Gateway를 이용하여 SSH 접속하기
</a>
</li>
<li data-nav-id=/ubuntu/change-hostname/ title="Hostname 변경하기" class=dd-item>
<a href=/ubuntu/change-hostname/>
<i class="fas fa-minus"></i>&nbsp;Hostname 변경하기
</a>
</li>
<li data-nav-id=/ubuntu/unattended-ubuntu/ title="추가 입력절차(prompt) 없이 Ubuntu 설치하는 이미지 만들기" class=dd-item>
<a href=/ubuntu/unattended-ubuntu/>
<i class="fas fa-minus"></i>&nbsp;추가 입력절차(prompt) 없이 Ubuntu 설치하는 이미지 만들기
</a>
</li>
<li data-nav-id=/ubuntu/how-to-edit-boot-parameter-during-install/ title="Ubuntu 설치 시 Boot Parameter를 수정하기" class=dd-item>
<a href=/ubuntu/how-to-edit-boot-parameter-during-install/>
<i class="fas fa-minus"></i>&nbsp;Ubuntu 설치 시 Boot Parameter를 수정하기
</a>
</li>
<li data-nav-id=/ubuntu/how-to-use-sudo-without-password/ title="sudo를 password 없이 사용하기" class=dd-item>
<a href=/ubuntu/how-to-use-sudo-without-password/>
<i class="fas fa-minus"></i>&nbsp;sudo를 password 없이 사용하기
</a>
</li>
</ul>
</li>
</ul>
<section id=shortcuts>
<h3>More</h3>
<ul>
<li>
<a class=padding href=https://github.com/KimMJ><i class="fab fa-github"></i> Github</a>
</li>
<li>
<a class=padding href=https://gohugo.io/><i class="fas fa-bookmark"></i> Hugo Documentation</a>
</li>
<li>
<a class=padding href=https://learn.netlify.com/en/><i class="fas fa-bookmark"></i> Hugo Theme Learn</a>
</li>
<li>
<a class=padding href=http://kimmj.github.io/tags><i class="fas fa-tags"></i> Tags</a>
</li>
</ul>
</section>
<section id=footer>
<p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p>
</section>
</div>
</nav>
<div id=docsToc>
<div class=pi-accordion>
</div>
<button class=push-menu-close-button onclick=kub.toggleToc()></button>
</div>
© 2020 GitHub, Inc.
<section id=body>
<div id=overlay></div>
<div class="padding highlightable">
<div>
<div id=top-bar>
<div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb>
<span id=sidebar-toggle-span>
<a href=# id=sidebar-toggle data-sidebar-toggle>
<i class="fas fa-bars"></i>
</a>
</span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>
<a href=/>Ibiza</a> > <a href=/kubernetes/>Kubernetes</a> > <a href=/kubernetes/concepts/>Concepts</a> > Controllers Overview
</span>
</div>
<div class=progress>
<div class=wrapper>
<nav id=TableOfContents>
<ul>
<li><a href=#contents>Contents</a></li>
<li><a href=#monolithic-vs-microservice>Monolithic vs. Microservice</a></li>
<li><a href=#conatiners>Conatiners</a></li>
<li><a href=#pods>Pods</a></li>
<li><a href=#replicaset>ReplicaSet</a></li>
<li><a href=#deployments>Deployments</a></li>
<li><a href=#statefulsets>StatefulSets</a></li>
<li><a href=#마치며>마치며..</a></li>
</ul>
</nav>
</div>
</div>
</div>
</div>
<div id=head-tags>
<div class=tags>
<a class=tag-link href=/tags/kubernetes>kubernetes</a>
<a class=tag-link href=/tags/concepts>concepts</a>
</div>
</div>
<div id=body-inner>
<h1>
Controllers Overview
</h1>
<nav id=TableOfContents>
<ul>
<li><a href=#contents>Contents</a></li>
<li><a href=#monolithic-vs-microservice>Monolithic vs. Microservice</a></li>
<li><a href=#conatiners>Conatiners</a></li>
<li><a href=#pods>Pods</a></li>
<li><a href=#replicaset>ReplicaSet</a></li>
<li><a href=#deployments>Deployments</a></li>
<li><a href=#statefulsets>StatefulSets</a></li>
<li><a href=#마치며>마치며..</a></li>
</ul>
</nav>
<h2 id=contents>Contents</h2>
<p>이 포스트에서는 Kubernetes의 Controller들에 대해서 알아보도록 하겠습니다.
가장 작은 단위인 Container부터, 상위 개념인 Deployment, StatefulSet까지 다루어 보도록 하겠습니다.</p>
<ul>
<li>Containers</li>
<li>Pods</li>
<li>ReplicaSets</li>
<li>Deployments</li>
<li>StatefulSets</li>
</ul>
<h2 id=monolithic-vs-microservice>Monolithic vs. Microservice</h2>
<p>우선 Monolithic과 Microservice에 대해서 짚고 넘어가도록 하겠습니다.</p>
<p>Monolithic의 개념은 하나의 큰 어플리케이션을 말합니다.
여러 사람이 개발을 하고 나서 하나의 큰 패키지로 빌드하고 이를 배포하죠.
간단한 서비스라면 문제가 발생하지는 않겠지만, 점점 코드의 수가 늘어나고 거대해질 수록 문제점이 생깁니다.
예를 들면 빌드시간이 오래걸린다던지, scale-out을 하기 힘들다던지 하는 문제가 있겠네요.</p>
<p>반면 Microservice는 하나의 큰 어플리케이션을 여러 조각으로 쪼갠 것을 의미합니다.
각 조각(microservice)는 자신의 역할이 있고, 이를 잘 수행하면 됩니다.
전체적인 관점에서 보면 어플리케이션은 microservice들간의 통신으로 행해진다고 보면 될 것 같습니다.</p>
<p>Monolithic에 비해 Microservice는 몇가지 장점들이 있습니다.</p>
<ul>
<li><strong>scale-out이 용이합니다.</strong><br>
Monolithic에 비해 microservice의 단위는 작기 때문에 scale-out 하는데 시간도 오래 걸리지 않고, 간단합니다.</li>
<li><strong>빠른 배포가 가능합니다.</strong><br>
Monolithic에서는 사이즈가 커질수록 빌드하는 시간이 점점 길어진다고 설명했었습니다.
이는 곧 요즘처럼 트렌드라던지 상황이 급변하는 상황에서 약점이 될 수 밖에 없습니다.
반면 Microservice는 작은 조각이기 때문에 빌드하는 시간이 Monolithic에 비해 뛰어날 수밖에 없습니다.
그리고 이를 배포하는 시간도 매우 줄어들게 되죠.</li>
<li><strong>문제가 발생하였을 때 영향이 적습니다.</strong><br>
쉽게 우리가 가장 잘 알고있는 게임중 하나인 LoL을 가지고 설명해 보도록 하겠습니다.
만약 LoL을 플레이하고 싶은데, 상점에 에러가 있어서 이용하지 못한다면 어떻게 되나요?
LoL이 Monolithic이었다면 게임 플레이가 막혀서 엄청난 원성을 샀을 것입니다.
하지만 LoL또한 Microservice이기 때문에 문제가 발생한 곳만 이용하지 못할 뿐, 나머지 서비스는 정상적으로 이용이 가능합니다.
따라서 복구하기도, 운영하기도 훨씬 쉽습니다.</li>
</ul>
<p>이렇게 보면 무조건 Microservice만 해야하는 것처럼 보이기도 합니다.
하지만 세상일이 모두 그렇듯 여기에도 정답은 없습니다.
자신이 개발하고자 하는 어플리케이션의 특성을 잘 파악해서 한가지를 선택하고 개발하는 것이 좋은 방향이 될 것 같습니다.</p>
<h2 id=conatiners>Conatiners</h2>
<p>이제 본격적인 설명으로 넘어가보도록 하겠습니다.</p>
<p>Docker를 사용해 보았다면 container도 친숙한 개념이 될 것 같습니다.
container는 VirtualBox처럼 가상화를 하지만, OS까지 가상화하는 것이 아니라 host OS 위에서 커널을 공유하는 방식으로 가상화를 합니다.
어려운 말일수도 있지만 간단하게 말하자면 VirtualBox같은 hypervisor에 의한 가상화보다 훨씬 가벼운 방법으로 가상화를 할 수 있다고 생각하시면 됩니다.
여기서 가볍다는 의미는 빠르게 생성/삭제할 수 있고 용량도 작다는 의미입니다.</p>
<p>Kubernetes는 이런 Docker와 같은 container runtime 기반으로 동작합니다.
그리고 각 container는 어플리케이션 내에서 자신의 역할을 수행하는 것들입니다.
Docker를 통해 컨테이너를 동작시키는 것처럼, Kubernetes도 컨테이너를 Docker같은 container runtime의 힘을 빌려 동작시킵니다.</p>
<h2 id=pods>Pods</h2>
<p>Pod는 Kubernetes에서 어플리케이션을 관리하는 단위입니다.</p>
<p>하나의 Pod는 여러개의 Container로 구성될 수 있습니다.
즉, 너무나 밀접하게 동작하고 있는 여러 Container를 하나의 Pod로 묶어 함께 관리하는 것입니다.</p>
<p>이 때, 하나의 Pod 내에 존재하는 모든 Container들은 서로 <code>localhost</code>를 통해 통신할 수 있습니다.</p>
<p>Kubernetes에서 Pod는 <code>언제 죽어도 이상하지 않은 것</code>으로 취급됩니다.
동시에 <code>언제 생성되어도 이상하지 않은 것</code>, <code>어디에 떠있어도 이상하지 않은 것</code>이죠.
그 만큼 어플리케이션 개발자는 Pod를 구성할 때 하나의 Pod가 장애가 나는 경우에도 어플리케이션이 제대로 동작할 수 있도록 만들어야 합니다.
언제 없어졌다가 생성될지 모르니까요.</p>
<h2 id=replicaset>ReplicaSet</h2>
<p>ReplicaSet은 Pod를 생성해주는 녀석입니다.</p>
<p>단일 Pod를 그냥 생성해도 되지만 그렇게 할 경우 Kubernetes가 주는 여러 이점들, 예를 들어 auto healing, auto scaling, rolling update 등을 이용하지 못합니다.
때문에 Pod를 관리해주는 Controller가 필요하게 되는데 이것이 ReplicaSet입니다.</p>
<p>ReplicaSet은 자신이 관리해야하는 Pod의 template을 가지고 있습니다.
그리고 주기적으로 Kubernetes를 주시하며 내가 가지고 있는 template에 대한 Pod가 원하는 숫자만큼 잘 있는지 확인합니다.
부족하다면 Pod를 더 생성하고 너무 많으면 Pod를 삭제합니다.</p>
<p>ReplicaSet은 Pod를 <code>label</code>을 기준으로 관리합니다.
자신이 가지고 있는 <code>matchLabels</code>와 일치하는 Pod들이 자신과 관련된 Pod라고 인식하는 것이죠.
따라서 <code>label</code>을 운영중에 바꾸는 일은 웬만해선 피해야 합니다.
고아가 발생하여 어느 누구도 관리해주지 않는 Pod가 남게 될 수 있기 때문입니다.</p>
<p>또한 ReplicaSet은 자신이 생성한 파드들을 <code>&lt;ReplicaSet의 이름>-&lt;hash 값></code>으로 생성합니다.
따라서 Pod의 이름만 보고도 어떤 ReplicaSet이 생성했는지 알 수 있게되죠.</p>
<h2 id=deployments>Deployments</h2>
<p>위에서는 ReplicaSet에 대해서 이야기해 보았습니다.
Deployments는 ReplicaSet보다 상위 개념의 Controller입니다.</p>
<p>만약 Pod의 template을 수정하는 경우가 생긴다면 어떻게 해야 할까요?
예를 들어 cpu 할당량을 바꾼다던지, image를 다른 이미지로 변경한다던지 하는 경우가 발생한다면요.
ReplicaSet만 존재한다면 이런 상황에서 새로운 template을 가지고 ReplicaSet을 생성하고, 기존의 ReplicaSet을 삭제하거나 <code>replicas: 0</code>으로 변경하여 ReplicaSet만 남아있고 실제 Pod는 없도록 해야합니다.</p>
<p>그렇다면 새로 만든 template에 오류가 있어서 이전 버전으로 돌아가고 싶다면 어떻게 해야할까요?
이전에 작성했던 ReplicaSet의 <code>replicas</code>를 늘리고, 현재 올라가있던 ReplicaSet의 <code>replicas</code>를 줄이면 될 것 입니다.
하지만 이는 일일이 기억해야하는 크나큰 단점이 있겠죠.</p>
<p>때문에 ReplicaSet을 관리해주는 Deployment가 필요합니다.
Deployment는 ReplicaSet을 생성하고 이 ReplicaSet이 Pods를 생성하도록 만듭니다.
그리고 자신이 관리하는 ReplicaSet의 <code>labels</code>를 자신의 <code>matchLabels</code>로 일치시켜 구분합니다.</p>
<p>그렇다면 Pod의 template이 변경되는 상황엔 이번에는 어떻게 적용이 될까요?</p>
<p>Deployment는 새로운 ReplicaSet을 생성하고, 기존 ReplicaSet의 <code>replicas</code>를 <code>0</code>으로 줄입니다.
그러면서 자신이 생성했던 ReplicaSet들을 <code>revision</code>으로 관리하죠.
이렇게 되면 사용자는 <code>kubectl</code> 명령어만 가지고 이전 template을 가진 Pod로 변경할 수 있습니다.</p>
<p>또한 Deployments가 ReplicaSet을 생성할 때는 <code>&lt;Deployment의 이름>-&lt;hash 값></code>으로 생성합니다.
위에서 ReplicaSet도 Pod를 생성할 때 <code>&lt;ReplicaSet의 이름>-&lt;hash 값></code>이라고 설명했었습니다.
따라서 Deployments에 의해 만들어진 Pod들은 <code>&lt;Deployment의 이름>-&lt;ReplicaSet에 대한 hash 값>-&lt;Pod에 대한 hash 값></code>과 같은 형태를 띄게 됩니다.</p>
<h2 id=statefulsets>StatefulSets</h2>
<p>StatefulSet은 좀 특이한 녀석입니다.</p>
<p>Pod는 <code>어디에 떠있어도 이상하지 않은 것</code>이라고 언급했었습니다.
그런데 StatefulSet은 그렇지 않습니다.
이름에 걸맞게 이전의 상태를 그대로 보존하고 있어야 합니다.
따라서 여러 제약사항들이 생기기도 합니다.</p>
<p>여기에서는 Pod와의 관계만 알아보고 넘어가도록 하겠습니다.</p>
<p>StatefulSets는 Deployments와는 다르게 ReplicaSet을 생성하지 않습니다.
대신 자신이 직접 Pod를 생성합니다.
이 때 Pod의 <code>label</code> 속성을 자신의 <code>matchLabels</code>과 일치시켜 자신이 관리하고 있는 Pod를 구분합니다.</p>
<p>또한 이름도 hash값을 사용하지 않고 <code>0</code>부터 시작하는 숫자를 사용합니다.
즉, <code>&lt;StatefulSets의 이름>-&lt;0부터 오름차순></code>의 이름을 가지는 Pod를 생성합니다.</p>
<p>만약 생성해야하는 Pod의 template에 변화가 있다면 어떻게 해야할까요?</p>
<p>StatefulSets는 Deployments와 다르게 변경할 수 있는 부분에 제약이 있습니다.
이 경우 절대 StatefulSet을 update할 수 없습니다.
따라서 기존 StatefulSet을 삭제하고 다시 <code>kubectl apply</code>와 같은 명령어로 새로운 template을 가지고 생성해야합니다.</p>
<p>Rollback에도 제약사항이 있습니다.</p>
<p>Rollback시 StatefulSet은 Pod가 완전히 Ready상태가 되길 기다립니다.
그런데 만약 StatefulSet이 생성한 Pod가 <code>ImagePullbackOff</code>같은 에러에 빠지게 된다면, 또는 영원히 <code>rediness probe</code>에 의해 Ready 상태가 되지 않는다면 StatefulSet의 rollback은 멈춰버립니다.
이는 Known Issue로 수동으로 해당 Pod를 삭제하는 방법밖에 없습니다.</p>
<p>따라서 웬만하면 설계를 할 때 StatefulSet을 지양하는 것이 Kubernetes의 Design에 더욱 맞는 방향일 것입니다.</p>
<h2 id=마치며>마치며..</h2>
<p>이렇게 Container, Pods, ReplicaSets, Deployments, StatefulSets의 관계를 중심으로 알아보는 시간을 가졌습니다.
혹시나 잘못된 부분이 있다면 언제든지 댓글 또는 메일로 알려주시면 감사하겠습니다.</p>
<footer class=footline>
</footer>
<div id=utterance>
<script src=https://utteranc.es/client.js repo=kimmj/kimmj.github.io issue-term=pathname label=comments theme=github-light crossorigin=anonymous async></script>
</div>
</div>
</div>
<div id=navigation>
</div>
</section>
<div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px>
<div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div>
</div>
<script src=/js/clipboard.min.js?1639322083></script>
<script src=/js/perfect-scrollbar.min.js?1639322083></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1639322083></script>
<script src=/js/jquery.sticky.js?1639322083></script>
<script src=/js/featherlight.min.js?1639322083></script>
<script src=/js/highlight.pack.js?1639322083></script>
<script>hljs.initHighlightingOnLoad()</script>
<script src=/js/modernizr.custom-3.6.0.js?1639322083></script>
<script src=/js/learn.js?1639322083></script>
<script src=/js/hugo-learn.js?1639322083></script>
<link href=/mermaid/mermaid.css?1639322083 rel=stylesheet>
<script src=/mermaid/mermaid.js?1639322083></script>
<script>mermaid.initialize({startOnLoad:!0})</script>
</body>
</html>